$('#hmen').on('click',function(){$('.pages-menu').toggleClass('hidden');$('.develop-form').toggleClass('hidden');});$(document).ready(function(){$('.news-owl-carousel').owlCarousel({loop:true,margin:10,nav:true,navText:[],responsive:{0:{items:1}}})});$(document).ready(function(){$('.master-carousel').owlCarousel({loop:true,margin:25,nav:true,navText:[],responsive:{0:{items:1}}})});$(document).ready(function(){$('.bonus-owl-carousel').owlCarousel({loop:true,margin:10,nav:true,navText:['',''],responsive:{0:{items:1}}});$('.master-slider').owlCarousel({nav:true,navText:['<i class="glyphicon glyphicon-share-alt"></i>','<i class="glyphicon glyphicon-share-alt"></i>'],responsive:{0:{items:1},600:{items:2},900:{items:3}}});$('.courses-carousel').owlCarousel({loop:true,margin:10,nav:true,navText:['',''],responsive:{0:{items:1},992:{items:2},1200:{items:3}}});$('.our-friends').owlCarousel({loop:true,margin:10,nav:false,responsive:{0:{items:2},992:{items:6}}});function owlStartResize(){if(document.documentElement.clientWidth<768){if(!$('.our-studio-carousel').hasClass('owl-carousel')){$('.our-studio-carousel').toggleClass('owl-carousel row');$('.our-studio-carousel').owlCarousel({loop:true,margin:0,nav:true,navText:[' ',' '],dots:false,responsive:{0:{items:1}}})}}else{$('.our-studio-carousel').trigger('destroy.owl.carousel').removeClass('owl-carousel owl-loaded');$('.our-studio-carousel').find('.owl-stage-outer').children().unwrap();if(!$('.our-studio-carousel').hasClass('row')){$('.our-studio-carousel').toggleClass('row')}}}$(window).on('resize',function(){owlStartResize()});owlStartResize();});$(document).ready(function(){$('.tabs-for-courses > .btn').on('click',function(){$('.tabs-for-courses > .active').toggleClass('active');$(this).toggleClass('active');$('.course-content > .active').toggleClass('active');var target=$(this).attr('data-target');$(target).toggleClass('active');});});$(document).ready(function(){$('.masters-directions > li').on('click',function(){$('.masters-directions > li').each(function(index,obj){if($(obj).hasClass('active'))$(obj).toggleClass('active');});$(this).toggleClass('active');});$('.js-course, .dropdown-main-menu').hover(function(){$('.dropdown-main-menu').show();},function(){$('.dropdown-main-menu').hide();});});const Subscriber={init:function(obj,res){if(res.success===1){obj.text(res.message).css('color','green');}else{$('.subscribe-box .help-block').text(res.message);this.showNotification(obj,true);}},showNotification:function(obj,error){obj.addClass('has-error');}};$('#js-subscribe-form').submit(function(event){var form=$(this);$.ajax({url:form.attr('action'),type:'post',data:form.serialize(),dateType:'json',success:function(res){var helpBlock=$('.subscribe-box .help-block');if(res.success===1){form.find('#subscribers-email').val('');helpBlock.removeClass('text-danger');}else{helpBlock.addClass('text-danger');}if(res.message){helpBlock.text(res.message);}}});return false;});$('#auth-subscribe').change(function(){var form=$(this).parents('form');$.ajax({url:form.attr('action'),type:'post',data:form.serialize(),dateType:'json',success:function(res){if(window.subscribeTmId){clearTimeout(window.subscribeTmId);}if(res.message){var helpBlock=$('.subscribe-box .auth-subscribe-help-block');helpBlock.text(res.message);window.subscribeTmId=setTimeout(function(){helpBlock.text('');},2000);}}});});$(document).on('pjax:send',function(e){$(e.target).addClass('loading');});$(document).on('pjax:complete',function(e){$(e.target).removeClass('loading');var top=$(e.target).offset().top;$('body,html').animate({scrollTop:top},500);});$(document).on('click','.btn-buy',function(){$(this).parent().children('.buy-box').toggleClass('hidden');});$(document).on('click','.buy-box .buy-header a.btn',function(){$(this).parent().parent().parent('.buy-box').toggleClass('hidden');});$(document).on('click','.js-do-payment',function(){var btn=$(this);var data=btn.data();$.ajax({url:data.updatePaymentMethodUrl+'&method='+data.paymentMethod,dateType:'json',success:function(res){if(res.redirectUrl){window.location=res.redirectUrl;}else{btn.parents('.buy-box').toggleClass('hidden');}$('.js-do-payment').css('pointer-events','all');},beforeSend:function(){$('.js-do-payment').css('pointer-events','none');}});return false;});$('#js-payparts-submit').on('beforeSubmit',function(){$(this).find('button').attr('disabled','disabled');});$(document).ready(function(){$('.payment-variant').on('click',function(){$('.payment-variant').each(function(){if($(this).hasClass('active')){$(this).toggleClass('active')}});$(this).toggleClass('active');});});function initScheduleDatepickers(){closestCourseCountDown();$('.datepicker-box').each(function(){var dates=$(this).data('dates');$(this).datepicker({language:'ru',minDate:new Date(dates[0][0]*1000),maxDate:new Date(dates[dates.length-1][0]*1000),beforeShowDay:function(date){var shouldHighLightCell=false;var tooltip='';dates.forEach(function(item){var activeDateStart=new Date(item[0]*1000);if(activeDateStart.getFullYear()===date.getFullYear()&&activeDateStart.getMonth()===date.getMonth()&&activeDateStart.getDate()===date.getDate()){shouldHighLightCell=true;tooltip=item[1];}});if(shouldHighLightCell){return[true,'highlight-cell',tooltip];}else{return[true,'',''];}}})});$('.js-datepicker-box').append('<div class="datepicker-close-button"></div>');$('.js-datepicker-box .ui-datepicker-inline').hide();$('.js-datepicker-box .datepicker-close-button').hide();$('.js-datepicker-box .datepicker-close-button').on('click',function(){$(this).parent().find('.ui-datepicker-inline').toggle();$(this).toggle();});}function closestCourseCountDown(){if(window.closestCourseInterval){clearTimeout(window.closestCourseInterval);}var block=$('#js-closest-course-countdown');if(block.length===0){return;}var countDownDateTime=block.data('time')*1000;window.closestCourseInterval=setInterval(function(){var now=new Date().getTime();var distance=countDownDateTime-now;var days=Math.floor(distance/(1000*60*60*24));var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));var minutes=Math.floor((distance%(1000*60*60))/(1000*60));var seconds=Math.floor((distance%(1000*60))/1000);$('#js-closest-days').text(days);$('#js-closest-hours').text(hours);$('#js-closest-mins').text(minutes);$('#js-closest-secs').text(seconds);if(distance<0){clearInterval(window.closestCourseInterval);$('#js-closest-days').text(0);$('#js-closest-hours').text(0);$('#js-closest-mins').text(0);$('#js-closest-secs').text(0);console.log('expired');}},1000);}$('.js-course-gallery-item').on('click',function(){$('#galleryModal').modal('show');if(!window.courseGalleryInit){$('#modalGallery').carousel();window.courseGalleryInit=true;}$('#modalGallery').carousel($(this).data('index'));});$(document).ready(function(){$(window).scroll(function(){var scrollHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);var start=document.documentElement.clientHeight;if($(this).scrollTop()>start/2){$('.scrollup').fadeIn();var persent=($(this).scrollTop()+start)/scrollHeight*100;var angle=persent*0.02-1/2;var x=180*Math.cos(angle*Math.PI)+100;var y=180*Math.sin(angle*Math.PI)+100;var rez;if(Math.cos(angle*Math.PI)>=0){rez='M 100,-80 A180,180   0  0, 1 '+x+','+y;}else{rez='M 100,-80 A180,180   0  0, 1 100 280 m0,0 A180,180 0  0, 1 '+x+','+y;}$('#path-anim').attr('d',rez);}else{$('.scrollup').fadeOut();}});$('.scrollup').click(function(){$("html, body").animate({scrollTop:0},600);return false;});});$(document).on('click','.js-redirect-link',function(){var url=$(this).data('href');if(url){window.location=url;}});$(document).on('click','.js-pjax-link',function(){var url=$(this).data('href');var container=$(this).data('container');if(url&&container){$.pjax({url:url,container:container,scrollTo:false});}return false;});$(document).ready(function(){if($(document).width()>768){$('.js-placeholder-for-email-input').attr('placeholder','Введите Ваш Email');}else{$('.js-placeholder-for-email-input').attr('placeholder','Email');}});